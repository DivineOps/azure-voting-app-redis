trigger: none 
pr: none


jobs:
- deployment:
  environment: testEnv
  pool: 
    vmImageName: 'ubuntu-latest' 
  strategy:                 
    canary:     
      increments: [10,20] 
      preDeploy:
        # pool: default                                    
        steps:          
        - script: |
            echo StrategyName: $(strategy.name)
      deploy:
        steps:
        - script: |
            echo Deploy: $(strategy.increment)
            echo StrategyName: $(strategy.name)
      routeTraffic:
        steps:
        - script: |
            echo routeTraffic: $(strategy.increment)
            echo StrategyName: $(strategy.name)
      on:
        failure:
          steps:
          - script: |
              echo StrategyName: $(strategy.name)
        success:
          steps:
          - script: |
              echo StrategyName: $(strategy.name)
